apiVersion: v1
kind: Service
metadata:
  name: springboot-nodeport
  labels:
    app: ecommerce-application
spec:
  type: NodePort
  selector:
    app: ecommerce-application
  ports:
    - name: http
      protocol: TCP
      port: 80              # Port exposed inside the cluster
      targetPort: 1199      # Port your Spring Boot app listens on
      nodePort: 30080       # Optional: fixed external port (range 30000â€“32767)
---
#apiVersion: v1
##kind: Service
#metadata:
#  name: spring-boot-service
#  namespace: spring
#  labels:
#    app: ecommerce-application
#  annotations:
#    service.beta.kubernetes.io/aws-load-balancer-type: "nlb"
#    service.beta.kubernetes.io/aws-load-balancer-cross-zone-load-balancing-enable: "true"
#    service.beta.kubernetes.io/aws-load-balancer-connection-draining-enable: "true"
#    service.beta.kubernetes.io/aws-load-balancer-connection-draining-timeout: "30"
#spec:
#  ports:
#    - port: 1199
#      protocol: TCP
#      targetPort: 1199
#  selector:
#    app: ecommerce-application
#  type: LoadBalancer
---